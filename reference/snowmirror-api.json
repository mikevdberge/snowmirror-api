{
  "openapi": "3.1.0",
  "x-stoplight": {
    "id": "63wbg3fuoium9"
  },
  "info": {
    "title": "snowmirror-api",
    "version": "1.0",
    "description": "This document is a guide which will walk you through SnowMirror REST API. The purpose of the REST API is to allow developers to integrate SnowMirror with other applications.\n\n1.1. URIs of REST API Resources\nThe API consists of resources identified by URIs. To call the API you have to make HTTP requests on the provided URIs. The URIs have following structure:\n\nhttp://{hostname}:{port}/api/{api-version}/{resource-name}\n\nhostname - name of the server where SnowMirror is running\n\nport - port on which SnowMirror is running\n\napi-version - version of API to use. Currently \"v1\" is the only option available. In future releases a version may increase\n\nresource-name - name of the resource you need to operate on. The resources are described in the following chapter\n\nLet’s say you need to get information about a synchronization. Then you will have to make GET HTTP request on a resource called http://yourSnowMirrorServer:9090/api/v1/synchronization\nAlso note that resources are secured. Please see Authentication and Security chapter for details.",
    "contact": {
      "name": " GuideVision",
      "url": "https://www.snow-mirror.com/doc/RestApiGuide.html"
    }
  },
  "servers": [
    {
      "url": "http://localhost:9090/api/v1"
    }
  ],
  "paths": {
    "/synchronization": {
      "parameters": [],
      "get": {
        "summary": "Get a list of all synchronizations.",
        "x-speakeasy-entity-operation": "Synchronization#get",
        "tags": [],
        "responses": {
          "200": {
            "description": "A list of synchronizations was successfully retrieved.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "x-examples": {
                    "Example 1": {
                      "syncs": [
                        {
                          "id": 24,
                          "name": "incident",
                          "table": "incident",
                          "mirrorTable": "incident",
                          "columns": [
                            {
                              "name": "active",
                              "sysId": "8f2f4b99e1031100a24720593d95f563"
                            },
                            {
                              "name": "sys_id",
                              "sysId": "3a3f8b99e1031100a24720593d95f5d5"
                            }
                          ],
                          "allowInheritedColumns": true,
                          "referenceFieldType": "BOTH",
                          "autoSchemaUpdate": false,
                          "encodedQuery": null,
                          "deleteStrategy": "AUDIT",
                          "active": true,
                          "scheduler": {
                            "type": "MANUALLY",
                            "beginDate": "2014-08-07"
                          },
                          "fullLoadScheduler": {
                            "executionType": "CLEAN_AND_SYNCHRONIZE",
                            "type": "MANUALLY",
                            "beginDate": "2014-08-07"
                          },
                          "schedulerPriority": "NORMAL"
                        },
                        {
                          "id": 25,
                          "name": "incident_sla",
                          "view": "incident_sla",
                          "mirrorTable": "incident_sla",
                          "columns": [
                            {
                              "prefix": "taskslatable",
                              "name": "taskslatable_sla",
                              "sysId": "d9719f5de1031100a24720593d95f53b"
                            },
                            {
                              "prefix": "inc",
                              "name": "inc_priority",
                              "sysId": "c72f4b99e1031100a24720593d95f56d"
                            }
                          ],
                          "allowInheritedColumns": false,
                          "referenceFieldType": "BOTH",
                          "autoSchemaUpdate": false,
                          "encodedQuery": null,
                          "deleteStrategy": "TRUNCATE",
                          "active": true,
                          "scheduler": {
                            "type": "DAILY",
                            "beginDate": "2014-08-07",
                            "time": "00:00"
                          },
                          "fullLoadScheduler": {
                            "executionType": "CLEAN_AND_SYNCHRONIZE",
                            "type": "DAILY",
                            "beginDate": "2014-08-07",
                            "time": "00:00"
                          },
                          "schedulerPriority": "NORMAL"
                        },
                        {
                          "id": 2,
                          "name": "u_rest_test_table_backup-ecf7afd3902e46aabc6b4266ae20f694",
                          "backup": "u_rest_test_table",
                          "mirrorTable": null,
                          "columns": [
                            {
                              "name": "sys_id",
                              "sysId": "d58564b74ff112002a9053418110c7d2"
                            }
                          ],
                          "allowInheritedColumns": false,
                          "autoSchemaUpdate": false,
                          "referenceFieldType": "SYS_IDS",
                          "encodedQuery": null,
                          "deleteStrategy": "NONE",
                          "active": true,
                          "scheduler": {
                            "type": "MANUALLY",
                            "beginDate": "2014-08-07",
                            "time": "04:00",
                            "visible": false
                          },
                          "fullLoadScheduler": null,
                          "schedulerPriority": "NORMAL",
                          "synchronizationType": null,
                          "masterTable": null,
                          "attachmentDirectory": null,
                          "retentionPeriod": 30,
                          "format": "CSV",
                          "updateBeforeSynchronizationRun": false
                        }
                      ]
                    }
                  },
                  "properties": {
                    "sync": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer"
                          },
                          "name": {
                            "type": "string"
                          },
                          "table": {
                            "type": "string"
                          },
                          "view": {
                            "type": "string"
                          },
                          "attachment": {
                            "type": "string"
                          },
                          "backup": {
                            "type": "string"
                          },
                          "backupAttachment": {
                            "type": "string"
                          },
                          "mirrorTable": {
                            "type": "string"
                          },
                          "columns": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": {
                                  "type": "string"
                                },
                                "sysId": {
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "allowInheritedColumns": {
                            "type": "boolean"
                          },
                          "referenceFieldType": {
                            "type": "string"
                          },
                          "autoSchemaUpdate": {
                            "type": "boolean"
                          },
                          "encodedQuery": {
                            "type": "string"
                          },
                          "deleteStrategy": {
                            "type": "string"
                          },
                          "active": {
                            "type": "boolean"
                          }                             
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Could not parse a request or validations failed."
          }
        },
        "operationId": "get-synchronization",
        "description": "Returns a list of all synchronizations."
      },
      "post": {
        "summary": "Creates a new synchronization",
        "x-speakeasy-entity-operation": "Synchronizations#create",
        "operationId": "post-synchronization",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Creates a new synchronization. Returns newly created synchronization including its ID.",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              },
              "examples": {}
            },
            "application/xml": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        }
      },
      "delete": {
        "summary": "Deletes synchronizations",
        "x-speakeasy-entity-operation": "Synchronizations#delete",
        "operationId": "delete-synchronization",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Deletes synchronizations. To be able to delete a synchronization it must not be running."
      }
    },
    "/synchronization/export": {
      "get": {
        "summary": "Your GET endpoint",
        "x-speakeasy-entity-operation": "Synchronizations-Export#get",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "operationId": "get-synchronizations-export",
        "description": "Exports all synchronizations and their settings.\n\nIt does not export activity logs. If you import them to some other environment, you should run the synchronizations from scratch. It does not export global setting (Settings → General Settings nor Settings → Advanced Properties)."
      }
    }
  },
  "components": {
    "schemas": {
      "synchronizations": {
        "type": "object",
        "properties": {
          "syncs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "name": {
                  "type": "string"
                },
                "table": {
                  "type": "string"
                },
                "mirrorTable": {
                  "type": [
                    "null",
                    "string"
                  ]
                },
                "columns": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "sysId": {
                        "type": "string"
                      },
                      "prefix": {
                        "type": "string"
                      }
                    }
                  }
                },
                "allowInheritedColumns": {
                  "type": "boolean"
                },
                "referenceFieldType": {
                  "type": "string"
                },
                "autoSchemaUpdate": {
                  "type": "boolean"
                },
                "encodedQuery": {
                  "type": "null"
                },
                "deleteStrategy": {
                  "type": "string"
                },
                "active": {
                  "type": "boolean"
                },
                "scheduler": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    },
                    "beginDate": {
                      "type": "string"
                    },
                    "time": {
                      "type": "string"
                    },
                    "visible": {
                      "type": "boolean"
                    }
                  }
                },
                "fullLoadScheduler": {
                  "type": [
                    "null",
                    "object"
                  ],
                  "properties": {
                    "executionType": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "beginDate": {
                      "type": "string"
                    },
                    "time": {
                      "type": "string"
                    }
                  }
                },
                "schedulerPriority": {
                  "type": "string"
                },
                "view": {
                  "type": "string"
                },
                "backup": {
                  "type": "string"
                },
                "synchronizationType": {
                  "type": "null"
                },
                "masterTable": {
                  "type": "null"
                },
                "attachmentDirectory": {
                  "type": "null"
                },
                "retentionPeriod": {
                  "type": "integer"
                },
                "format": {
                  "type": "string"
                },
                "updateBeforeSynchronizationRun": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "x-examples": {
          "Example 1": {
            "syncs": [
              {
                "id": 24,
                "name": "incident",
                "table": "incident",
                "mirrorTable": "incident",
                "columns": [
                  {
                    "name": "active",
                    "sysId": "8f2f4b99e1031100a24720593d95f563"
                  },
                  {
                    "name": "sys_id",
                    "sysId": "3a3f8b99e1031100a24720593d95f5d5"
                  }
                ],
                "allowInheritedColumns": true,
                "referenceFieldType": "BOTH",
                "autoSchemaUpdate": false,
                "encodedQuery": null,
                "deleteStrategy": "AUDIT",
                "active": true,
                "scheduler": {
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07"
                },
                "fullLoadScheduler": {
                  "executionType": "CLEAN_AND_SYNCHRONIZE",
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07"
                },
                "schedulerPriority": "NORMAL"
              },
              {
                "id": 25,
                "name": "incident_sla",
                "view": "incident_sla",
                "mirrorTable": "incident_sla",
                "columns": [
                  {
                    "prefix": "taskslatable",
                    "name": "taskslatable_sla",
                    "sysId": "d9719f5de1031100a24720593d95f53b"
                  },
                  {
                    "prefix": "inc",
                    "name": "inc_priority",
                    "sysId": "c72f4b99e1031100a24720593d95f56d"
                  }
                ],
                "allowInheritedColumns": false,
                "referenceFieldType": "BOTH",
                "autoSchemaUpdate": false,
                "encodedQuery": null,
                "deleteStrategy": "TRUNCATE",
                "active": true,
                "scheduler": {
                  "type": "DAILY",
                  "beginDate": "2014-08-07",
                  "time": "00:00"
                },
                "fullLoadScheduler": {
                  "executionType": "CLEAN_AND_SYNCHRONIZE",
                  "type": "DAILY",
                  "beginDate": "2014-08-07",
                  "time": "00:00"
                },
                "schedulerPriority": "NORMAL"
              },
              {
                "id": 2,
                "name": "u_rest_test_table_backup-ecf7afd3902e46aabc6b4266ae20f694",
                "backup": "u_rest_test_table",
                "mirrorTable": null,
                "columns": [
                  {
                    "name": "sys_id",
                    "sysId": "d58564b74ff112002a9053418110c7d2"
                  }
                ],
                "allowInheritedColumns": false,
                "autoSchemaUpdate": false,
                "referenceFieldType": "SYS_IDS",
                "encodedQuery": null,
                "deleteStrategy": "NONE",
                "active": true,
                "scheduler": {
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07",
                  "time": "04:00",
                  "visible": false
                },
                "fullLoadScheduler": null,
                "schedulerPriority": "NORMAL",
                "synchronizationType": null,
                "masterTable": null,
                "attachmentDirectory": null,
                "retentionPeriod": 30,
                "format": "CSV",
                "updateBeforeSynchronizationRun": false
              }
            ]
          }
        },
        "title": "synchronizations",
        "x-stoplight": {
          "id": "b5d7c06caa157"
        },
        "examples": []
      },
      "synchronization": {
        "type": "object",
        "x-examples": {
          "Example 1": {
            "syncs": [
              {
                "id": 24,
                "name": "incident",
                "table": "incident",
                "mirrorTable": "incident",
                "columns": [
                  {
                    "name": "active",
                    "sysId": "8f2f4b99e1031100a24720593d95f563"
                  },
                  {
                    "name": "sys_id",
                    "sysId": "3a3f8b99e1031100a24720593d95f5d5"
                  }
                ],
                "allowInheritedColumns": true,
                "referenceFieldType": "BOTH",
                "autoSchemaUpdate": false,
                "encodedQuery": null,
                "deleteStrategy": "AUDIT",
                "active": true,
                "scheduler": {
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07"
                },
                "fullLoadScheduler": {
                  "executionType": "CLEAN_AND_SYNCHRONIZE",
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07"
                },
                "schedulerPriority": "NORMAL"
              },
              {
                "id": 25,
                "name": "incident_sla",
                "view": "incident_sla",
                "mirrorTable": "incident_sla",
                "columns": [
                  {
                    "prefix": "taskslatable",
                    "name": "taskslatable_sla",
                    "sysId": "d9719f5de1031100a24720593d95f53b"
                  },
                  {
                    "prefix": "inc",
                    "name": "inc_priority",
                    "sysId": "c72f4b99e1031100a24720593d95f56d"
                  }
                ],
                "allowInheritedColumns": false,
                "referenceFieldType": "BOTH",
                "autoSchemaUpdate": false,
                "encodedQuery": null,
                "deleteStrategy": "TRUNCATE",
                "active": true,
                "scheduler": {
                  "type": "DAILY",
                  "beginDate": "2014-08-07",
                  "time": "00:00"
                },
                "fullLoadScheduler": {
                  "executionType": "CLEAN_AND_SYNCHRONIZE",
                  "type": "DAILY",
                  "beginDate": "2014-08-07",
                  "time": "00:00"
                },
                "schedulerPriority": "NORMAL"
              },
              {
                "id": 2,
                "name": "u_rest_test_table_backup-ecf7afd3902e46aabc6b4266ae20f694",
                "backup": "u_rest_test_table",
                "mirrorTable": null,
                "columns": [
                  {
                    "name": "sys_id",
                    "sysId": "d58564b74ff112002a9053418110c7d2"
                  }
                ],
                "allowInheritedColumns": false,
                "autoSchemaUpdate": false,
                "referenceFieldType": "SYS_IDS",
                "encodedQuery": null,
                "deleteStrategy": "NONE",
                "active": true,
                "scheduler": {
                  "type": "MANUALLY",
                  "beginDate": "2014-08-07",
                  "time": "04:00",
                  "visible": false
                },
                "fullLoadScheduler": null,
                "schedulerPriority": "NORMAL",
                "synchronizationType": null,
                "masterTable": null,
                "attachmentDirectory": null,
                "retentionPeriod": 30,
                "format": "CSV",
                "updateBeforeSynchronizationRun": false
              }
            ]
          }
        },
        "properties": {
          "syncs": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "name": {
                  "type": "string"
                },
                "table": {
                  "type": "string"
                },
                "view": {
                  "type": "string"
                },
                "mirrorTable": {
                  "type": [
                    "null",
                    "string"
                  ]
                },
                "columns": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "sysId": {
                        "type": "string"
                      },
                      "prefix": {
                        "type": "string"
                      }
                    }
                  }
                },
                "allowInheritedColumns": {
                  "type": "boolean"
                },
                "referenceFieldType": {
                  "type": "string"
                },
                "autoSchemaUpdate": {
                  "type": "boolean"
                },
                "encodedQuery": {
                  "type": "null"
                },
                "deleteStrategy": {
                  "type": "string"
                },
                "active": {
                  "type": "boolean"
                },
                "scheduler": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    },
                    "beginDate": {
                      "type": "string"
                    },
                    "time": {
                      "type": "string"
                    },
                    "visible": {
                      "type": "boolean"
                    }
                  }
                },
                "fullLoadScheduler": {
                  "type": [
                    "null",
                    "object"
                  ],
                  "properties": {
                    "executionType": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string"
                    },
                    "beginDate": {
                      "type": "string"
                    },
                    "time": {
                      "type": "string"
                    }
                  }
                },
                "schedulerPriority": {
                  "type": "string"
                },
                "backup": {
                  "type": "string"
                },
                "synchronizationType": {
                  "type": "null"
                },
                "masterTable": {
                  "type": "null"
                },
                "attachmentDirectory": {
                  "type": "null"
                },
                "retentionPeriod": {
                  "type": "integer"
                },
                "format": {
                  "type": "string"
                },
                "updateBeforeSynchronizationRun": {
                  "type": "boolean"
                }
              }
            }
          }
        },
        "title": "Synchronization"
      }
    },
    "securitySchemes": {
      "basic-authentication": {
        "type": "http",
        "scheme": "basic"
      }
    }
  }
}